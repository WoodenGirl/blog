## 目录

数据库：

    原字段：目录id，名称，父目录id

    新增字段`<unknow>`（不知道取什么名字），构建树结构时若目录 `<unknow>`为1，则不再继续向下查询子节点

接口：

|    | 参数                       | 结果                                                                                           |
| -- | -------------------------- | ---------------------------------------------------------------------------------------------- |
| 查 |                            | 返回全部目录，不考虑 `<unknow>`                                                              |
| 查 | 目录id                     | 返回父目录下的全部子目录，考虑 `<unknow>`                                                    |
| 改 | 目录名称，结束位           | 修改目录                                                                                       |
| 删 | 目录id                     | 删除目录及以下的子节点，若该目录下有文章，动态等内容，不允许删除                               |
| 增 | 目录名称，父目录id, 结束位 | 增加目录                                                                                       |
| 查 | 目录id                     | 返回详细目录，向上查询父目录名称直到 `<unknow>`为1（包含），再向下输出，如“女频-古代-宫斗” |

---

## 文章

数据库：

    原字段：id，名称，用户id，封面，正文，创建时间，修改时间

    新增字段: 状态（发布，草稿）

接口：

|    | 参数                             | 结果                                                                           |
| -- | -------------------------------- | ------------------------------------------------------------------------------ |
| 查 | 目录id，每页数量                 | 返回该目录下的所有文章（简略信息，不包含正文，状态，用户id改为作者），文章总数 |
| 查 | 文章id                           | 返回该文章的全部信息，用户id改为作者                                           |
| 增 | 文章（封面前端上传，传值字符串） | 增加文章                                                                       |
| 删 | 文章id                           | 删除该文章，以及文章正文中的图片（obs信息如下）                                |
| 改 | 文章                             | 修改文章                                                                       |

华为云IAM登陆 拥有obs全部权限

| 原账号      | hid_7l9pz2e2p2b5kyg |
| ----------- | ------------------- |
| IAM用户名   | aprilsxz            |
| IAM用户密码 | Aprilsxz.com        |

```
// OBS
const AccessKeyID = "XVMEKB4Q4OYRDZKLACAE"
const SecretAccessKey = "FaB0W6oLFcWbrKYg5kCoMV34Pjjq3bpB67gHK10I"
const BUCKET = "blog-aprilsxz"
const SERVER = "https://obs.cn-east-3.myhuaweicloud.com"
```

[下载与安装SDK(Java SDK)_对象存储服务 OBS_华为云](https://support.huaweicloud.com/sdk-java-devg-obs/obs_21_0001.html)

ps:文章封面点击提交才上传到服务器，正文中选择图片后即直接上传---

## 评论

设置一个类型，如linkedId，可保存如文章，动态，小说多类id信息（这些类的id需要能够区分类型，如‘article_123’）

or

设置两个类型，一个保存id信息，一个保存类型

评论需要设置成树结构，~~前端处理 or~~ 后端处理

* [ ] 只展示一条，其他收起
* [ ] 按照点赞数进行排序
* [ ] 分页

## 动态

## ACG
