## 目录

###### 数据库

| 字段名称     | 类型 | 备注                                                         |
| ------------ | ---- | ------------------------------------------------------------ |
|              |      | 目录id                                                       |
|              |      | 目录名称                                                     |
|              |      | 父目录id                                                     |
| `<unknow>` |      | 构建树结构时若目录 `<unknow>`为1，则不再继续向下查询子节点 |

###### 接口

返回树结构（需要children属性），属性名没有要求

|    | 参数                   | 结果                                                             |
| -- | ---------------------- | ---------------------------------------------------------------- |
| 查 |                        | 返回全部目录，不考虑 `<unknow>`                                |
| 查 | 目录id                 | 返回父目录下的全部子目录，考虑 `<unknow>`                      |
| 改 | 目录名称，`<unknow>` | 修改目录                                                         |
| 删 | 目录id                 | 删除目录及以下的子节点，若该目录下有文章，动态等内容，不允许删除 |
| 增 | 目录                   | 增加目录                                                         |

###### 方法

| 参数   | 结果                                                                                           |
| ------ | ---------------------------------------------------------------------------------------------- |
| 目录id | 返回详细目录，向上查询父目录名称直到 `<unknow>`为1（包含），再向下输出，如“女频-古代-宫斗” |

---

## 文章

###### 数据库 

| 字段名称 | 类型 | 备注                                     |
| -------- | ---- | ---------------------------------------- |
|          |      | 文章id                                   |
|          |      | 文章名称                                 |
|          |      | 用户id？                                 |
|          |      | 目录id？                                 |
|          |      | 标签                                     |
|          |      | 封面 "articleCover/" + uid(13) + ".jpeg" |
|          | text | 正文                                     |
|          |      | 创建时间                                 |
|          |      | 修改时间                                 |
|          |      | 状态（发布，草稿）                       |
|          |      | 考虑点赞收藏功能                         |

###### 接口

|    | 参数                             | 结果                                                                             |
| -- | -------------------------------- | -------------------------------------------------------------------------------- |
| 查 | 目录id，每页数量                 | 返回该目录下的所有文章（不包含正文，状态，包含目录详细名称，用户昵称），文章总数 |
| 查 | 文章id                           | 返回该文章的全部信息（包含目录详细名称，用户昵称）                               |
| 增 | 文章（封面前端上传，传值字符串） | 增加文章                                                                         |
| 删 | 文章id                           | 删除该文章，以及文章正文中的图片（obs信息如下）                                  |
| 改 | 文章                             | 修改文章                                                                         |
|    |                                  | 考虑按时间，按热度排序文章                                                       |

###### 其他信息

华为云IAM登陆 拥有obs全部权限

| 原账号      | hid_7l9pz2e2p2b5kyg |
| ----------- | ------------------- |
| IAM用户名   | aprilsxz            |
| IAM用户密码 | Aprilsxz.com        |

```
// OBS
const AccessKeyID = "XVMEKB4Q4OYRDZKLACAE"
const SecretAccessKey = "FaB0W6oLFcWbrKYg5kCoMV34Pjjq3bpB67gHK10I"
const BUCKET = "blog-aprilsxz"
const SERVER = "https://obs.cn-east-3.myhuaweicloud.com"
```

[下载与安装SDK(Java SDK)_对象存储服务 OBS_华为云](https://support.huaweicloud.com/sdk-java-devg-obs/obs_21_0001.html)

ps:文章封面点击提交才上传到服务器，正文中选择图片后即直接上传---

## 评论

###### 数据库

| 字段名称 | 类型 | 备注                                         |
| -------- | ---- | -------------------------------------------- |
|          |      | 评论id                                       |
|          |      | 用户id                                       |
|          |      | 评论内容                                     |
|          |      | 父评论id                                     |
|          |      | 回复用户id                                   |
|          |      | 链接id, 可为文章，动态，小说等（可另外建表） |
|          |      | 考虑点赞功能                                 |

###### 接口

返回树结构（需要children属性），属性名没有要求

|    | 参数   | 结果                                             |
| -- | ------ | ------------------------------------------------ |
| 查 | 链接id | 返回全部评论（包含用户头像，昵称，回复对象昵称） |
| 查 | 链接id | 返回全部评论总数                                 |
| 删 | 评论id | 删除评论及以下的子节点                           |
| 增 | 评论   | 增加评论                                         |
|    |        | 考虑按时间，按热度排序评论                       |

## 动态

## ACG
